# üß† –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏ –≤ Open-LLM-VTuber

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –≤ Open-LLM-VTuber –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ù–µ–π—Ä–∏ –ø–æ–º–Ω–∏—Ç—å –∑—Ä–∏—Ç–µ–ª–µ–π –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫ –∫–∞–∂–¥–æ–º—É –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –ø–∞–º—è—Ç–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **VtuberMemoryService** - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –ø–∞–º—è—Ç–∏
2. **ChromaMemory** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
3. **RelationshipsDB** - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
4. **ConsolidationScheduler** - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏

### –¢–∏–ø—ã –ø–∞–º—è—Ç–∏

- **Session Memory** (`vtuber_session`) - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã –∏ —Å–æ–±—ã—Ç–∏—è
- **Long-term Memory** (`vtuber_memory`) - –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è
- **Relationships** - –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (affinity, trust, interaction_count)

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∞–≥–µ–Ω—Ç

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

–í `single_conversation.py` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:

```python
# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
kind = determine_memory_kind(
    text=input_text,
    speaker="USER",
    conf=context.character_config,
)

# –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–∞–º—è—Ç–∏
item = MemoryItemTyped(
    text=input_text,
    kind=kind,
    conf_uid=context.character_config.conf_uid,
    history_uid=context.history_uid,
    importance=calculate_importance(input_text),
    timestamp=float(time.time()),
    tags=extract_tags(input_text),
    emotion=detect_emotion(input_text),
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç—å
mem.add_memory(item)
```

### 2. –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º –∞–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è:

```python
hits = mem.get_relevant_memories(
    query=input_text,
    conf_uid=context.character_config.conf_uid,
    limit=getattr(context, "memory_top_k", 4),
)
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç–Ω–æ—à–µ–Ω–∏–π

–ê–≥–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

```python
rel = db.get(effective_from_name)
if rel:
    sys_chunks.append(
        f"[Relations] affinity={rel.affinity}, trust={rel.trust}, interactions={rel.interaction_count}."
    )
```

## –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ API

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

#### –ü–æ–∏—Å–∫ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
```bash
GET /admin/memory/search?q=–∑–∞–ø—Ä–æ—Å&top_k=5&kind=user&conf_uid=neuro_pro
```

#### –≠–∫—Å–ø–æ—Ä—Ç –ø–∞–º—è—Ç–∏
```bash
GET /admin/memory/export?conf_uid=neuro_pro&fmt=json&limit=1000
```

#### –ò–º–ø–æ—Ä—Ç –ø–∞–º—è—Ç–∏
```bash
POST /admin/memory/import?conf_uid=neuro_pro&history_uid=test&default_kind=chat
Content-Type: multipart/form-data
file: memories.json
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
```bash
DELETE /admin/memory/delete/{memory_id}
```

#### –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
```bash
POST /admin/memory/delete_many
{
    "ids": ["memory_id_1", "memory_id_2"]
}
```

#### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
```bash
POST /admin/memory/edit
{
    "id": "memory_id",
    "new_content": "–ù–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"
}
```

#### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
```bash
POST /admin/memory/retag_many
{
    "ids": ["memory_id_1", "memory_id_2"],
    "new_kind": "user"
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
GET /admin/relationship/get?user_id=username
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
```bash
POST /admin/relationship/update
{
    "user_id": "username",
    "affinity_delta": 10,
    "trust_delta": 5,
    "username": "display_name",
    "realname": "real_name"
}
```

#### –°–ø–∏—Å–æ–∫ –Ω–µ–¥–∞–≤–Ω–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π
```bash
GET /admin/relationship/list_recent?limit=20
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–µ–π

#### –†—É—á–Ω–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è
```bash
POST /admin/memory/consolidate
```

#### –ì–ª—É–±–æ–∫–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è
```bash
POST /admin/memory/deep_consolidation
```

#### –û—á–∏—Å—Ç–∫–∞ –ø–æ TTL
```bash
POST /admin/memory/prune_session_ttl?ttl_sec=604800
```

## WebSocket API –¥–ª—è –ø–∞–º—è—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è
```javascript
websocket.send(JSON.stringify({
    type: "memory-add",
    entry: {
        text: "–¢–µ–∫—Å—Ç –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è",
        kind: "user",
        importance: 0.8,
        tags: ["–∏–≥—Ä—ã", "minecraft"],
        emotion: "joy",
        timestamp: Date.now() / 1000
    }
}));
```

### –†—É—á–Ω–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è
```javascript
websocket.send(JSON.stringify({
    type: "memory-consolidate",
    reason: "manual"
}));
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

### –í conf.yaml

```yaml
character_config:
  vtuber_memory:
    enabled: true
    provider: "memgpt"  # –∏–ª–∏ "letta"
    memory_consolidation_interval_sec: 1800  # 30 –º–∏–Ω—É—Ç
    deep_consolidation_every_n_streams: 5
    summarize_max_tokens: 256
    summarize_timeout_s: 25
    sentiment_max_tokens: 96
    sentiment_timeout_s: 12
    consolidate_recent_messages: 120
```

### –í system_config

```yaml
system_config:
  relationships_db_path: "cache/relationships.sqlite3"
  memory_enabled: true
  memory_top_k: 4
```

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

### –¢–∏–ø—ã (MemoryKind)

- **USER** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- **SELF** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ù–µ–π—Ä–∏
- **THIRD_PARTY** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä—É–≥–∏—Ö –ª—é–¥—è—Ö
- **CHAT** - –æ–±—â–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã
- **EMOTIONS** - —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **OBJECTIVES** - —Ü–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏

### –§—É–Ω–∫—Ü–∏–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

```python
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞
kind = determine_memory_kind(text, speaker, conf)

# –†–∞—Å—á–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç–∏
importance = calculate_importance(text)

# –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–≥–æ–≤
tags = extract_tags(text)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ—Ü–∏–∏
emotion = detect_emotion(text)
```

## –°–∏—Å—Ç–µ–º–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π

### –ü–æ–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π

- **user_id** - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **username** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
- **realname** - —Ä–µ–∞–ª—å–Ω–æ–µ –∏–º—è
- **affinity** - —Å–∏–º–ø–∞—Ç–∏—è (-100..+100)
- **trust** - –¥–æ–≤–µ—Ä–∏–µ (0..100)
- **interaction_count** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- **last_interaction** - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º–∏

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
rel = db.get(user_id)

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏–º–ø–∞—Ç–∏–∏
new_affinity = db.adjust_affinity(user_id, delta)

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–≤–µ—Ä–∏—è
new_trust = db.adjust_trust(user_id, delta)

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–º–µ–Ω–∏
db.set_username(user_id, username)
```

## –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –ø–∞–º—è—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è

- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç session memory –≤ long-term memory
- –£–¥–∞–ª—è–µ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø–∏—Å–∏ –ø–æ TTL

### –ì–ª—É–±–æ–∫–∞—è –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è

- –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—ã–µ N —Å—Ç—Ä–∏–º–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5)
- –ë–æ–ª–µ–µ —Ç—â–∞—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∞-–≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π

### TTL –æ—á–∏—Å—Ç–∫–∞

- –£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å–∏ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
- –ò—Å–∫–ª—é—á–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—É—é —Å–µ—Å—Å–∏—é
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–º–ø—Ç–æ–º

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

–°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø—Ä–æ–º–ø—Ç:

1. **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è** - —Ñ–∞–∫—Ç—ã –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö** - affinity, trust, interaction_count
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ç–æ–Ω–∞ –æ–±—â–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```
[Memory] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ª—é–±–∏—Ç –∏–≥—Ä–∞—Ç—å –≤ Minecraft
[Memory] –ù–µ–π—Ä–∏ –ø–æ–º–Ω–∏—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —á–∞—Å—Ç–æ –¥–æ–Ω–∞—Ç–∏—Ç
[Relations] affinity=10, trust=5, interactions=15.
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–∞–º—è—Ç—å—é –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:

```
INFO | memory.chroma_memory:query | {'memgpt_operation': 'query', 'collection': 'vtuber_session', 'top_k': 5, 'hits': 2, 'latency_ms': 45}
```

### –ú–µ—Ç—Ä–∏–∫–∏

- –í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ø–∞–º—è—Ç–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –†–∞–∑–º–µ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏–∏

### –û—Ç–ª–∞–¥–∫–∞

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–∞–º—è—Ç–∏
print(f"Memory enabled: {context.memory_enabled}")
print(f"Memory service: {context.vtuber_memory_service}")
print(f"Memory top_k: {context.memory_top_k}")
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ—á–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞
- –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ–≥–∏
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–∞–∂–Ω–æ—Å—Ç—å

### 2. –ö–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è

- –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—é —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∑–∞–ø–∏—Å–∏

### 3. –û—Ç–Ω–æ—à–µ–Ω–∏—è

- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ
- –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –ù–µ –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è–π—Ç–µ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

### 4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ø–∞–º—è—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
uv run python test_memory_integration.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ChromaDB
ls -la cache/chroma/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ SQLite
sqlite3 cache/relationships.sqlite3 ".tables"
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

```bash
# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
rm -rf cache/chroma/*

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑
rm cache/relationships.sqlite3
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–∏—Å–∫–æ–º

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
curl "http://localhost:8000/admin/memory/search?q=test&top_k=5"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞
curl "http://localhost:8000/admin/memory/export?fmt=json&limit=10"
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–∞–º—è—Ç–∏ –≤ Open-LLM-VTuber –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

1. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é** –∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—é
4. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø—Ä–æ–º–ø—Ç–æ–º** –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

–≠—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ù–µ–π—Ä–∏ –ø–æ–º–Ω–∏—Ç—å –∫–∞–∂–¥–æ–≥–æ –∑—Ä–∏—Ç–µ–ª—è –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–∏–µ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. 